{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43969100-31d832a553472532b672b1645';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = query => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.json();\n  });\n};\n","export const createMarkup = images => {\n  return images.reduce(\n    ( html, { tags, webformatURL, largeImageURL, likes, views, comments, downloads } ) => {\n      return (\n        html +\n        `\n\t\t\t<li class=\"gallery-item item-gallery\">\n\t\t\t\t<a class=\"item-gallery-link\" href=\"${largeImageURL}\">\n\t\t\t\t\t<img class=\"item-gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n\t\t\t\t</a>\n\t\t\t\t<ul class=\"item-gallery-data\">\n\t\t\t\t\t<li class=\"item-gallery-data-item\">\n\t\t\t\t\t\t<h2 class=\"item-gallery-subtitle\">Likes</h2>\n\t\t\t\t\t\t<p class=\"item-gallery-counter\">${likes}</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"item-gallery-data-item\">\n\t\t\t\t\t\t<h2 class=\"item-gallery-subtitle\">Views</h2>\n\t\t\t\t\t\t<p class=\"item-gallery-counter\">${views}</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"item-gallery-data-item\">\n\t\t\t\t\t\t<h2 class=\"item-gallery-subtitle\">Comments</h2>\n\t\t\t\t\t\t<p class=\"item-gallery-counter\">${comments}</p>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"item-gallery-data-item\">\n\t\t\t\t\t\t<h2 class=\"item-gallery-subtitle\">Downloads</h2>\n\t\t\t\t\t\t<p class=\"item-gallery-counter\">${downloads}</p>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t`\n      );\n    },\n    ''\n  );\n};\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchPhotos } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('.js-loader');\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const query = event.target.elements.searchword.value.trim();\n  galleryEl.innerHTML = '';\n  if (query === '') {\n    return iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n  }\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotos(query)\n    .then(imagesData => {\n      if (imagesData.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n\n      galleryEl.innerHTML = createMarkup(imagesData.hits);\n      const lightbox = new SimpleLightbox('.item-gallery-link', {\n        captionsData: 'alt',\n        captionsDelay: 250,\n      });\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearch);\n"],"names":["API_KEY","BASE_URL","fetchPhotos","query","params","response","createMarkup","images","html","tags","webformatURL","largeImageURL","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","onSearch","event","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,MACpB,CAAG,CACH,ECpBaC,EAAeC,GACnBA,EAAO,OACZ,CAAEC,EAAM,CAAE,KAAAC,EAAM,aAAAC,EAAc,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAEjEP,EACA;AAAA;AAAA,yCAEiCG,CAAa;AAAA,0CACZD,CAAY,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAK5BG,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,IAO7C,EACJ,ECpBMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,YAAY,EAEpD,SAASC,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMjB,EAAQiB,EAAM,OAAO,SAAS,WAAW,MAAM,OAErD,GADAJ,EAAU,UAAY,GAClBb,IAAU,GACZ,OAAOkB,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,UAChB,CAAK,EAEHH,EAAS,UAAU,OAAO,WAAW,EAErChB,EAAYC,CAAK,EACd,KAAKmB,GAAc,CACdA,EAAW,KAAK,SAAW,GAC7BD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAGHL,EAAU,UAAYV,EAAagB,EAAW,IAAI,EACjC,IAAIC,EAAe,qBAAsB,CACxD,aAAc,MACd,cAAe,GACvB,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUE,CAAQ"}